# package: openresty

pkgname=openresty
pkgver=
pkgdesc=""
url=""
source=""

_builddir="$srcdir"/$pkgname-$pkgver
_buildflags=""

download() {
    if [ ! -d "$_builddir" ]; then
        curl -sSL "$source" | tar xz -C "$srcdir"
    fi
    log " => $pkgname: ${FUNCNAME[0]} OK"
}

prepare() {
    log " => $pkgname: ${FUNCNAME[0]} OK"
}

build() {
    cd "$_builddir"
    ./configure "$_buildflags"
    make -j"${threads}"
    log " => $pkgname: ${FUNCNAME[0]} OK"
}

package() {
    cd "$_builddir"
    make -j1 install DESTDIR="$pkgdir" || return 1
    log " => $pkgname: ${FUNCNAME[0]} OK"
}
